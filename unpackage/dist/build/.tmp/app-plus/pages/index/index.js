(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"76e6":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement;t._self._c},s=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}))},"7ad9":function(t,e,n){"use strict";n.r(e);var i=n("e1ed"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},"90e3":function(t,e,n){"use strict";var i=n("ae16"),a=n.n(i);a.a},"980b":function(t,e,n){"use strict";n.r(e);var i=n("76e6"),a=n("7ad9");for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("90e3");var o,r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=c.exports},ae16:function(t,e,n){},cd59:function(t,e,n){"use strict";(function(t){n("ff80"),n("921b");i(n("66fd"));var e=i(n("980b"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},e1ed:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){n.e("pages/template/textNew").then(function(){return resolve(n("f976"))}.bind(null,n)).catch(n.oe)},a=function(){n.e("pages/template/newsList").then(function(){return resolve(n("931b"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("pages/template/bigCover").then(function(){return resolve(n("314b"))}.bind(null,n)).catch(n.oe)},o=function(){n.e("pages/template/three").then(function(){return resolve(n("2d4f"))}.bind(null,n)).catch(n.oe)},r=function(){Promise.all([n.e("common/vendor"),n.e("pages/template/hasConNew")]).then(function(){return resolve(n("276b"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("pages/template/video").then(function(){return resolve(n("6f39"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("pages/template/photos").then(function(){return resolve(n("9447"))}.bind(null,n)).catch(n.oe)},h=function(){n.e("components/refresh").then(function(){return resolve(n("9ae5"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("pages/template/activityList").then(function(){return resolve(n("b4ab"))}.bind(null,n)).catch(n.oe)},g={components:{textNew:i,newList:a,bigCover:s,threeNew:o,hasConNew:r,refresh:h,yzkkVideo:c,yzkkPhoto:u,activityList:d},data:function(){return{screenHeight:0,bottomDistinct:0,id:"",isScroll:!1,newsList:[],cacheTab:[],tabIndex:0,photoData:[],videoData:[],activityData:[],tabBars:[],scrollInto:"",showTips:!1,navigateFlag:!1,pulling:!1,refreshIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5QTFRFcHBw3Nzct7e39vb2ycnJioqK7e3tpqam29vb////D8oK7wAAAAp0Uk5T////////////ALLMLM8AAABxSURBVHja7JVBDoAgDASrjqj//7CJBi90iyYeOHTPMwmFZrHjYyyFYYUy1bwUZqtJIYVxhf1a6u0R7iUvWsCcrEtwJHp8MwMdvh2amHduiZD3rpWId9+BgPd7Cc2LIkPyqvlQvKxKBJ//Qwq/CacAAwDUv0a0YuKhzgAAAABJRU5ErkJggg=="}},mounted:function(){this.getTypes()},onPageScroll:function(t){t.scrollTop>100?this.isScroll=!0:this.isScroll=!1},methods:{getTypes:function(){var t=this;this.$apiJs.getIndexColumn().then((function(e){e.forEach((function(e){t.tabBars.push({name:e.nickname,id:e.id,keyId:"tab"+e.id}),t.newsList.push({data:[],pageObj:{page:1,pagecount:1},isLoading:!1,noMore:!1})}))})).then((function(){t.getAllList(t.tabBars[t.tabIndex].id)}))},getAllList:function(e,n,i){var a=this,s=this;this.$apiJs.getAllNewList({page:this.newsList[this.tabIndex].pageObj.page,category_id:e||""}).then((function(e){var o=a.newsList[a.tabIndex].data,r=e.backlist;r.map((function(t){t.img.length&&t.img?t.cover=t.img[0].url:t.cover=errorImg,t.time=s.$commonJs.timeFormat.noYearFormat(t.create_time)})),n?(setTimeout((function(){s.$commonJs.uniMsg("刷新成功"),s.$refs.refresh.endAfter()}),800),a.newsDataTuiJian=r,t("log",a.newsDataTuiJian," at pages\\index\\index.vue:194")):a.newsDataTuiJian=o.concat(r),a.newsList[a.tabIndex].data=o.concat(r),a.newsList[a.tabIndex].pageObj.page=Number(e.page)+1,a.newsList[a.tabIndex].pageObj.pagecount=e.pagecount,Number(e.page)==e.pagecount&&(a.newsList[a.tabIndex].noMore=!0),i&&(a.newsList[a.tabIndex].isLoading=!1)}))},getPhotoList:function(t,e){var n=this,i=this;this.$apiJs.getPictureList({page:this.newsList[this.tabIndex].pageObj.page}).then((function(a){var s=n.photoData;if(a){var o=a.backlist;o.map((function(t){t.createtime=i.$commonJs.timeFormat.noYearFormat(t.createtime)})),t?(setTimeout((function(){i.$commonJs.uniMsg("刷新成功"),i.$refs.refresh.endAfter()}),800),n.photoData=o):n.photoData=s.concat(o),n.newsList[n.tabIndex].pageObj.page=Number(a.page)+1,n.newsList[n.tabIndex].pageObj.pagecount=a.pagecount,Number(a.page)==a.pagecount&&(n.newsList[n.tabIndex].noMore=!0),e&&(n.newsList[n.tabIndex].isLoading=!1)}else t&&setTimeout((function(){i.$commonJs.uniMsg("刷新成功"),i.$refs.refresh.endAfter()}),800)}))},getVideoList:function(t,e){var n=this,i=this;this.$apiJs.getVideoList({page:this.newsList[this.tabIndex].pageObj.page}).then((function(a){var s=n.videoData;if(a){var o=a.backlist;o.map((function(t){t.createtime=i.$commonJs.timeFormat.noYearFormat(t.createtime)})),t?(setTimeout((function(){i.$commonJs.uniMsg("刷新成功"),i.$refs.refresh.endAfter()}),800),n.videoData=o):n.videoData=s.concat(o),n.newsList[n.tabIndex].pageObj.page=Number(a.page)+1,n.newsList[n.tabIndex].pageObj.pagecount=a.pagecount,Number(a.page)==a.pagecount&&(n.newsList[n.tabIndex].noMore=!0),e&&(n.newsList[n.tabIndex].isLoading=!1)}else t&&setTimeout((function(){i.$commonJs.uniMsg("刷新成功"),i.$refs.refresh.endAfter()}),800)}))},getActivityList:function(t,e){var n=this,i=this;this.$apiJs.getChamberActivityList({page:this.newsList[this.tabIndex].pageObj.page}).then((function(a){var s=n.activityData,o=a.backlist;o.map((function(t){t.end_time=i.$commonJs.timeFormat.noYearFormat(t.end_time,1)})),t?(setTimeout((function(){i.$commonJs.uniMsg("刷新成功"),i.$refs.refresh.endAfter()}),800),n.activityData=o):n.activityData=s.concat(o),n.activityData=s.concat(o),n.newsList[n.tabIndex].pageObj.page=Number(a.page)+1,n.newsList[n.tabIndex].pageObj.pagecount=a.pagecount,Number(a.page)==a.pagecount&&(n.newsList[n.tabIndex].noMore=!0),e&&(n.newsList[n.tabIndex].isLoading=!1)}))},getMore:function(e){if(t("log","得到更多"+this.tabIndex+"-----------"+this.newsList[this.tabIndex].noMore," at pages\\index\\index.vue:322"),1!=this.newsList[this.tabIndex].noMore){var n=this.tabBars[this.tabIndex].id;0===this.newsList[this.tabIndex].data.length&&1!=n&&6!=n&&7!=n||(1==n?this.getPhotoList(0,1):6==n?this.getVideoList(0,1):this.getActivityList(0,1))}},refreshStart:function(e){t("log","refreshStart"," at pages\\index\\index.vue:340"),this.$refs.refresh.refreshStart(e)},refreshMove:function(e){t("log","refreshMove"," at pages\\index\\index.vue:344"),this.$refs.refresh.refreshMove(e)},refreshEnd:function(e){t("log","refreshEnd"," at pages\\index\\index.vue:348"),this.$refs.refresh.refreshEnd(e)},isRefresh:function(){t("log","执行下拉刷新"," at pages\\index\\index.vue:352"),this.newsList[this.tabIndex].pageObj.page=1,this.newsList[this.tabIndex].pageObj.pagecount=1,this.newsList[this.tabIndex].noMore=!1,this.newsList[this.tabIndex].isLoading=!0;var e=this.tabBars[this.tabIndex].id;0===this.newsList[this.tabIndex].data.length&&1!=e&&6!=e&&7!=e?this.getAllList(this.tabBars[this.tabIndex].id,1):1==e?this.getPhotoList(1):6==e?this.getVideoList(1):this.getActivityList(1)},navTo:function(t){this.$commonJs.navTo(t)},loadMore:function(){this.getMore()},guanzhuFn:function(){t("log","右上角关注"," at pages\\index\\index.vue:377")},shareOr:function(){t("log","右上角分享"," at pages\\index\\index.vue:380")},dianzan:function(e){t("log","第"+e+"1条动态点赞操作！"," at pages\\index\\index.vue:383"),this.hasConData.zanFlag?this.hasConData.zanFlag=!1:this.hasConData.zanFlag=!0},ontabtap:function(t){var e=t.target.dataset.current||t.currentTarget.dataset.current;this.switchTab(e,1)},ontabchange:function(t){var e=t.target.current;this.switchTab(e)},switchTab:function(t,e){var n=this;if(this.tabIndex!==t){this.tabIndex=t;var i=this.tabBars[Number(t)].id;0===this.newsList[Number(t)].data.length&&1!=i&&6!=i&&7!=i?e||n.getAllList(i):1==i?e||this.getPhotoList():6==i?e||this.getVideoList():e||this.getActivityList(),this.scrollInto=this.tabBars[Number(t)].keyId}}}};e.default=g}).call(this,n("0de9")["default"])}},[["cd59","common/runtime","common/vendor"]]]);