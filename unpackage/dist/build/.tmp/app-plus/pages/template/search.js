(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/template/search"],{"18a1":function(e,t,n){"use strict";n.r(t);var a=n("3c65"),o=n("8686");for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("b3cd");var r,c=n("f0c5"),s=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"0026bd0e",null,!1,a["a"],r);t["default"]=s.exports},"3c65":function(e,t,n){"use strict";var a,o=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}))},"44ef":function(e,t,n){},8686:function(e,t,n){"use strict";n.r(t);var a=n("a482"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},a482:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){n.e("pages/template/textNew").then(function(){return resolve(n("f976"))}.bind(null,n)).catch(n.oe)},i=function(){n.e("pages/template/newsList").then(function(){return resolve(n("931b"))}.bind(null,n)).catch(n.oe)},r=function(){n.e("pages/template/bigCover").then(function(){return resolve(n("314b"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("pages/template/three").then(function(){return resolve(n("2d4f"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/mehaotian-search/mehaotian-search").then(function(){return resolve(n("98a0"))}.bind(null,n)).catch(n.oe)},u={components:{mSearch:s,textNew:o,newList:i,bigCover:r,threeNew:c},data:function(){return{historyList:[],hotList:["安溪","毕业"],screenHeight:0,isLoading:!1,bottomDistinct:0,pageObj:{page:1,pagecount:1},noMore:!1,searched:!1,noData:!1,searchData:[],placeholder:"动态占位内容"}},methods:{setInputVal:function(e){this.$refs.mSearch.setInput(e)},clearhistory:function(){this.historyList=[],e.setStorageSync("historyArr",[])},clear:function(){this.noData=!1,this.searched=!1,this.searchData=[],this.pageObj.page=1,this.pageObj.pagecount=1},keywordSearch:function(e){this.searchData=[],this.pageObj.page=1,this.pageObj.pagecount=1,this.$refs.mSearch.setInput(e),this.search(e,1)},getLocaStorage:function(){var t=e.getStorageSync("historyArr")||[];this.historyList=t},setLocaStorage:function(t){var n=e.getStorageSync("historyArr")||[];n.push(t);var a=n.filter((function(e,t,n){return n.indexOf(e)===t}));e.setStorageSync("historyArr",a)},search:function(e,t){var n=this,a=this;this.keyword=e,this.noData=!1,this.noMore=!1,this.setLocaStorage(e),this.$apiJs.getNewsSearch({page:this.pageObj.page,search:e}).then((function(e){if(n.searched=!0,e.backlist.length){var o=e.backlist,i=n.searchData;o.map((function(e){e.img.length&&e.img?e.cover=e.img[0].url:e.cover="no",e.time=a.$commonJs.timeFormat.noYearFormat(e.create_time)})),n.pageObj.page=Number(e.page),n.pageObj.pagecount=e.pagecount,Number(e.page)==e.pagecount&&(n.noMore=!0),n.searchData=t?o:i.concat(o),n.isLoading=!1}else n.searchData.length?n.noMore=!0:(n.pageObj.page=1,n.pageObj.pagecount=1,n.noData=!0)})).then((function(){n.getLocaStorage()}))},onPageScroll:function(t){var n=this,o=t.scrollTop;if(a("log",this.noMore," at pages\\template\\search.vue:173"),a("log",this.isLoading," at pages\\template\\search.vue:174"),!this.isLoading&&!this.noMore){var i=e.createSelectorQuery().in(this);i.select("#listArea").boundingClientRect((function(e){var t=e.height;n.bottomDistinct>=t-n.screenHeight-o&&(n.isLoading=!0,n.pageObj.page+=1,n.search(n.keyword))})).exec()}}},onLoad:function(){this.screenHeight=this.$YZKK.screenHeight,this.bottomDistinct=this.$YZKK.bottomDistinct,this.getLocaStorage()}};t.default=u}).call(this,n("6e42")["default"],n("0de9")["default"])},b3cd:function(e,t,n){"use strict";var a=n("44ef"),o=n.n(a);o.a},bd88:function(e,t,n){"use strict";(function(e){n("ff80"),n("921b");a(n("66fd"));var t=a(n("18a1"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])}},[["bd88","common/runtime","common/vendor"]]]);